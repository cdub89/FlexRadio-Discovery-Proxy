# FlexRadio Discovery Proxy - Version 3.0 Configuration
#
# This configuration file is for Version 3.0.0 of the FlexRadio Discovery Proxy
# Version 3.0 uses socket-only mode (TCP streaming between server and client)
#
# For v1.x or v2.x configuration files, see the archive/ directory
#
# Copyright (c) 2026 Chris L White (WX7V)
# Licensed under the MIT License
#

[SERVER]
# Server runs on remote location where FlexRadio is located
# Listens for actual VITA-49 discovery broadcasts from the radio

# Network interface to listen on (0.0.0.0 = all interfaces)
Listen_Address = 0.0.0.0

# UDP port for FlexRadio discovery (standard is 4992)
Discovery_Port = 4992

# TCP port for streaming discovery packets to clients
# Client must connect to this port to receive packets
Stream_Port = 5992

# Maximum number of simultaneous client connections
Max_Clients = 5


[CLIENT]
# Client runs on local PC where SmartSDR client is running
# Receives discovery packets via TCP and rebroadcasts locally

# Server IP address for TCP connection
# This should be the IP address of the server over your VPN connection
# Example: 192.168.1.100 or 10.8.0.1
#Server_Address = 192.168.0.100
Server_Address = 192.168.1.22

# TCP port to connect to server (must match server's Stream_Port)
Stream_Port = 5992

# Seconds between reconnection attempts if connection fails
Reconnect_Interval = 5.0

# Broadcast address for local network (255.255.255.255 = local subnet broadcast)
Broadcast_Address = 255.255.255.255

# UDP port for broadcasting (standard is 4992)
Discovery_Port = 4992

# Cache settings for offline operation
# File to store last received discovery packet
Cached_Packet_File = last_discovery_packet.json

# Use cached packet when server is unreachable (true/false)
Use_Cached_Packet = true

# Maximum age of cached packet in seconds (0 = no limit)
# If cached packet is older than this, it won't be used
Max_Cache_Age = 3600

# Broadcast interval when using cached packet (seconds)
# How often to rebroadcast the cached packet when server is offline
Cached_Broadcast_Interval = 3.0


[DIAGNOSTICS]
# Health check and diagnostic settings

# Enable health checks at startup and during operation
Enable_Health_Checks = true

# Run comprehensive diagnostics at startup
Startup_Tests = true

# Interval for periodic health checks during operation (seconds)
# Set to 0 to disable periodic checks
Periodic_Check_Interval = 60.0

# Timeout for ping tests (seconds)
Ping_Timeout = 5.0

# Display detailed network interface information at startup
Display_Interface_Info = true

# Enable debug logging (shows detailed packet flow information)
# Warning: Creates verbose logs - only enable for troubleshooting
Debug_Logging = false

# Maximum number of rotated log files to keep
# Older log files beyond this limit will be automatically deleted
# Set to 0 to keep all archived logs indefinitely
Max_Log_Files = 2

# For CLIENT: IP address of the server to test connectivity
# Should be the IP of the machine running FRS-Discovery-Server-v2.py
# Leave empty to skip server connectivity tests
Test_Server_IP = 

# For SERVER: IP address of the FlexRadio to monitor
# Leave empty to auto-detect from discovery packets
Test_Radio_IP = 
